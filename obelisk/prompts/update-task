---
description: Update existing task based on user feedback
---

**CURRENT STATE: TASK UPDATE**

Modify existing task and re-run discovery with changes.

---

## Entry Point Detection

**Check if update description was provided:**

**IF user provided update:**
```
/update-task Add camera support alongside gallery picker
```
- Extract update_description = "Add camera support alongside gallery picker"
- Proceed to Task Update

**IF no description:**
```
/update-task
```
- Output: "What changes should be made to the task?"
- Wait for response
- Set update_description = [response]
- Proceed to Task Update

---

## Task Update

### 1. Load Current Task

Read `/obelisk/temp-state/task.md`

If NOT exist â†’ Output: "No task to update. Use /new-task first."

### 2. Apply Changes to Task

**Integrate update_description into current task:**

**If update adds to scope:**
- Add to included items
- Remove from excluded if it was there

**If update removes from scope:**
- Remove from included items
- Add to excluded items (explicitly mark as rejected)

**If update changes goal:**
- Modify goal statement

**If update adds constraints:**
- Add to constraints list

**If update changes success criteria:**
- Update criteria accordingly

**If update rejects something previously included:**
- Move to excluded list with note: "Explicitly excluded by user"

**Create clear, updated task description** that:
- Incorporates requested changes
- Explicitly excludes rejected items
- Prevents re-asking about rejected items

**Do NOT ask questions. Apply changes logically.**

### 3. Delete Current Task

Delete `/obelisk/temp-state/task.md`

### 4. Run Discovery with Updated Task

**ACTION:**
1. Read the file `/obelisk/prompts/03-task-discovery-prompt.md`.
2. **Adopt the persona** and rules defined in that file immediately.
3. **Inject Input:** Treat the updated task description (from Step 2) as the user's initial input.
4. **Execute:** Begin the "Preflight" and "Reconnaissance" phases defined in that file.

*Do not ask the user to type /new-task. Just start the process.*